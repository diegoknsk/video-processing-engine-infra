---
description: Controle de tempo e conclusão ao desenvolver stories — capturar início (Brasília), ao terminar registrar fim e tempo total
alwaysApply: true
---

# Controle de tempo e conclusão em desenvolvimento de stories

Esta rule aplica-se **sempre** que estivermos desenvolvendo uma story (arquivos em `storys/` ou tarefas referenciando story/subtask).

**Fuso horário:** usar sempre **horário de Brasília** para início e fim.

---

## Ao **iniciar** o desenvolvimento da story

1. **Capturar data e hora na hora** — no **início** da conversa/sessão em que o desenvolvimento da story for iniciado, registrar a **data e hora atuais em horário de Brasília**.
2. Anotar de forma explícita, por exemplo:
   - **Início:** dia [DD/MM/AAAA], às [HH]:[MM] (Brasília).

Registrar na seção **Rastreamento (dev tracking)** do `story.md` (criar a seção se não existir). O campo **Fim** e **Tempo total** ficam em branco até o encerramento.

Exemplo de seção no início:
```markdown
## Rastreamento (dev tracking)
- **Início:** dia 05/02/2026, às 00:45 (Brasília)
- **Fim:** —
- **Tempo total de desenvolvimento:** —
```

---

## Ao usuário avisar que está **concluído** ("pronto", "pode fechar", "finalizado", etc.)

1. **Encerrar a story:**
   - Marcar a story como concluída no `story.md` (Status: Concluída, Data de Conclusão).
   - Marcar **todas as subtasks** como prontas (`[x]`) no `story.md` e, se aplicável, nos arquivos de subtask em `subtask/*.md` (ex.: status/conclusão no topo de cada subtask).
2. **Registrar horário de fim e tempo total:**
   - **Fim:** dia [DD/MM/AAAA], às [HH]:[MM] (Brasília) — data e hora no momento em que o usuário indicar conclusão.
   - **Tempo total de desenvolvimento:** [X]h [Y]min ou [Z] min — calcular a partir do Início e do Fim.

Preencher esses dados na seção **Rastreamento (dev tracking)** do `story.md`, para ficar registrado no repositório.

---

## Resumo

| Momento | Ação |
|--------|------|
| **Início da story** | Capturar e anotar **data e hora atuais (Brasília)** no início do dev; preencher **Início** no `story.md`; **Fim** e **Tempo total** ficam em branco. |
| **Usuário diz que concluiu** | Marcar story e subtasks como prontas; preencher **Fim** (Brasília) e **Tempo total de desenvolvimento** no `story.md`. |

- Formato de data: dia DD/MM/AAAA.
- Formato de hora: HH:MM.
- Sempre indicar **(Brasília)** ao lado do horário.
